# Проект
BoardPackager.com

Я работаю над проектом, который позволяет осуществлять электронные сделки с недвижимостью в Нью Йорке.
Проект зарождался как идея перенести весь документооборот необходимый для покупки/съема жилья в электронный вид.
Постепенно приложение разрослось до того, что все общение между брокерами, клиентами, менеджментом и заинтересованными сторонами осуществляется через него:
Оплата взносов, заполнение форм, редактирование загруженных файлов, электронные подписи, переписка, компилячия готового пакета документов в единый файл и т.д.
Разрабатывается проект чуть более 4 лет, я работаю над ним немногим больше двух.
На перформанс внимаение обращается только тогда, когда он становится реальной проблемой для клиента ))
В качестве мониторига используется NewRelic, Google аналитика для сбора статистики, Rollbar для отлова ошиок
В проекте есть куча мест для оптимизации, но так как разработчиков всего четверо, 90% времени тратится на добавление нового и отладку текущего функционала.
Даже отсутствует написание тестов, что конечно совсем не хорошо.
Я являюсь разработчиком, это моя первая работа в качестве RoR девелопера после прохождения курсов по RoR от Thinknetica.

### Достижения
Оптимизация проводится не часто, лишь когда есть на нее время и она является ощутимой при работе с приложением. В NewRelic выбирается самий тяжелый метод и произодится оптимизация с применением Bullet, Rack Mini Profiler, ActiveImport.
Так на данный момент удалось снизить среднее время запросов с 350-400ms до 200.

### Успехи оптимизации
 Актуальнов проблемой было (и пока есть) единомоментное добавление члена организации ко всем активным пакетам этой организации путем создания так называемого пакетного пользователя.
 При количестве активных пакетов в 7000 штук, такая процедува занимала около часа, т.к. была написана в фоновой задаче и каждый запрос к БД был индивидуальным. Соответственно Sidekiq покой просто ждал когда таблица станет доступной для записи, делал новуб запись и ждал следующего "окна". Это дело было переписано с использованием ActiveImport и ожидает своей очереди развернуться на стейджинг.

### Что дальше
В планах начать применять профилировшики, тк на данный момент все оптимизации делались без реального замера времени работы, потребления памяти, скорости отрисовки и прочего.
Конечно, многие вещи были сделаны не на глаз а с помощью Bullet, Rack Mini Profiler и NewRelic. Но, благодара курсу, я для себя открыл еще множество инструментов, путей и способов оптимизации, которые собираюсь теперь использовать. Спасибо!
